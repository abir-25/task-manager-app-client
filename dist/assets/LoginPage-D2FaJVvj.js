import{e as b,d as t,r as w,j as s,L as v}from"./index-BGeUDN-j.js";import{a as N,A as S,L as F,E as L,b as E,c as I,s as P}from"./types-BH570T2R.js";import{u as M,F as k,a as o,b as n,c as i,d as l,I as c,e as m,B as A,s as R}from"./index-CsrqoIsP.js";import{u as U}from"./user.service-BcCZzhWH.js";import{M as B}from"./mail-CjLnx_lS.js";import"./client-DL1wx6u3.js";import"./index-CYzmzN74.js";const q=()=>{const d=b(),{mutate:u,isPending:x}=N.useLogin(),h=t(e=>e.hydrateStore),p=t(e=>e.updateUserInfo),r=M({resolver:R(P),defaultValues:{username:"",password:""}}),[a,j]=w.useState(!1),g=async e=>{u(e,{onSuccess:async f=>{h(f);const y=await U.getUserInfo();p(y),d("/")}})};return s.jsxs(S,{title:"Login",children:[s.jsx(k,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(g),className:"space-y-4",children:[s.jsx(o,{control:r.control,name:"username",render:({field:e})=>s.jsxs(n,{children:[s.jsx(i,{children:"Email address"}),s.jsx(l,{children:s.jsxs("div",{className:"relative",children:[s.jsx(B,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),s.jsx(c,{className:"pl-10 h-10 border border-gray-300 rounded-md  transition duration-200",placeholder:"you@example.com",type:"email",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:r.control,name:"password",render:({field:e})=>s.jsxs(n,{children:[s.jsx(i,{children:"Password"}),s.jsx(l,{children:s.jsxs("div",{className:"relative",children:[s.jsx(F,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),s.jsx(c,{className:"pl-10 pr-10 h-10 border border-gray-300 rounded-md focus:border-primary focus:ring focus:ring-primary transition duration-200",type:a?"text":"password",placeholder:"Enter your password",...e}),s.jsx("div",{onClick:()=>j(!a),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:a?s.jsx(L,{className:"h-5 w-5"}):s.jsx(E,{className:"h-5 w-5"})})]})}),s.jsx(m,{})]})}),s.jsxs(A,{type:"submit",className:"w-full",size:"lg",disabled:x,children:["Login",s.jsx(I,{className:"ml-2 h-4 w-4"})]})]})}),s.jsxs("div",{className:"mt-6 text-center text-sm flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:"Don't have an account? "}),s.jsxs("div",{className:"relative group",children:[s.jsx(v,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Register"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-px bg-blue-600 transition-all duration-300 group-hover:w-full"})]})]})]})};export{q as LoginPage};
