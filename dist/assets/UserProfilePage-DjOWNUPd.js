import{c as m,j as e,b as R,d as q,r as G}from"./index-BGeUDN-j.js";import{A as y,a as w,b as L}from"./avatar-DdJREvrk.js";import{f as O,z as o,u as D,L as Q,F as Z,a as g,b as j,c as v,d as N,I as b,e as f,B as p,s as H}from"./index-CsrqoIsP.js";import{C as k,a as U,c as T,d as V,b as S,S as i}from"./card-kt72vD9o.js";import{u as $}from"./client-DL1wx6u3.js";import{u as F}from"./user.service-BcCZzhWH.js";import{M as K}from"./mail-CjLnx_lS.js";import"./index-zA5PHOts.js";import"./index-CYzmzN74.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],W=m("ArrowLeft",X);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Y=m("CircleX",J);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],se=m("Pencil",ee);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],re=m("Phone",ae),le=({onGoback:a})=>e.jsxs("div",{className:"relative group w-max cursor-pointer",onClick:a,children:[e.jsxs("div",{className:"w-full text-white flex gap-2 items-center text-sm font-medium",children:[e.jsx(W,{size:18}),"Go back"]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-px bg-white transition-all duration-300 group-hover:w-full"})]}),P="GET_USER_INFO",te=()=>$({queryKey:[P],queryFn:()=>F.getUserInfo()}),ie=()=>O({mutationFn:a=>F.updateUserInfo(a)}),z={useUserInfo:te,useUpdateUserProfile:ie},oe=o.object({name:o.string().min(2,"Name must be at least 2 characters").optional(),phone:o.string().nullable().optional(),profileImg:o.union([o.string(),o.instanceof(File),o.null()]).nullable().optional()}),ne=({data:a,onCancel:t})=>{var u;const s=R(),r=D({resolver:H(oe),defaultValues:{name:a.name||"",phone:a.phone||"",profileImg:a.profileImgUrl||null}}),{mutate:c,isPending:I}=z.useUpdateUserProfile(),A=q(l=>l.updateUserInfo),M=l=>{var d;const n=(d=l.target.files)==null?void 0:d[0];if(n){if(n.size>1048576){r.setError("profileImg",{type:"manual",message:"Image size should not exceed 1MB"}),l.target.value="";return}r.setValue("profileImg",n,{shouldDirty:!0}),r.clearErrors("profileImg")}},_=l=>{const n={...l};c(n,{onSuccess:d=>{A(d),s.invalidateQueries({queryKey:[P]}),t()}})},E=!r.formState.isDirty||I,x=r.watch("profileImg"),h=x instanceof File?URL.createObjectURL(x):x||void 0,B=r.watch("name")||a.username||"User";return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsxs("div",{className:"h-[250px] bg-gradient-to-br from-primary via-primary/95 to-primary/90 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-10 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 via-transparent to-white/5"})]}),e.jsxs("svg",{className:"absolute -bottom-px w-full text-slate-50",viewBox:"0 0 1440 320",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"currentColor",fillOpacity:"0.2",d:"M0,128L34.3,133.3C68.6,139,137,149,206,144C274.3,139,343,117,411,128C480,139,549,181,617,186.7C685.7,192,754,160,823,144C891.4,128,960,128,1029,144C1097.1,160,1166,192,1234,197.3C1302.9,203,1371,181,1406,170.7L1440,160L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"}),e.jsx("path",{fill:"currentColor",d:"M0,192L34.3,186.7C68.6,181,137,171,206,170.7C274.3,171,343,181,411,192C480,203,549,213,617,202.7C685.7,192,754,160,823,144C891.4,128,960,128,1029,144C1097.1,160,1166,192,1234,186.7C1302.9,181,1371,139,1406,117.3L1440,96L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 -mt-[170px] relative z-10",children:[e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(le,{onGoback:t})}),e.jsxs(k,{className:"bg-white/95 backdrop-blur-sm shadow-xl rounded-3xl border-0",children:[e.jsx(U,{className:"space-y-1 pb-8",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs(y,{className:"w-32 h-32 border-4 border-white shadow-lg",children:[e.jsx(w,{src:h,className:"object-cover"}),e.jsx(L,{className:"text-4xl capitalize",children:((u=a.name)==null?void 0:u[0])||(a==null?void 0:a.username[0])})]}),h&&e.jsx(Y,{onClick:()=>r.setValue("profileImg",null),className:`absolute top-0 right-0 w-6 h-6 text-red-500 hover:text-red-600 
                               cursor-pointer opacity-0 group-hover:opacity-100 transition-all duration-300`}),e.jsxs(Q,{htmlFor:"profileImage",className:`absolute bottom-0 right-0 bg-primary hover:bg-primary/90 
                           text-white rounded-full p-2 cursor-pointer shadow-lg 
                           transition-all duration-300 group-hover:scale-110`,children:[e.jsx("input",{id:"profileImage",type:"file",accept:"image/*",className:"hidden",onChange:M}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})]})]}),r.formState.errors.profileImg&&e.jsx("p",{className:"text-center mt-2 text-destructive",children:r.formState.errors.profileImg.message}),e.jsx(T,{className:`text-3xl font-bold bg-gradient-to-r from-primary to-primary/70 
                                  bg-clip-text text-transparent`,children:B}),e.jsx(V,{className:"text-lg text-gray-600",children:"Update profile information below"})]})}),e.jsx(S,{children:e.jsx(Z,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(_),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(g,{control:r.control,name:"name",render:({field:l})=>e.jsxs(j,{children:[e.jsxs(v,{className:"text-gray-700",children:["Name ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(N,{children:e.jsx(b,{...l,className:`rounded-xl border-gray-200 focus:border-primary/50 
                                     focus:ring-primary/50 transition-all duration-300`})}),e.jsx(f,{})]})}),e.jsx(g,{control:r.control,name:"phone",render:({field:l})=>e.jsxs(j,{children:[e.jsx(v,{className:"text-gray-700",children:"Phone"}),e.jsx(N,{children:e.jsx(b,{...l,value:l.value||"",className:`rounded-xl border-gray-200 focus:border-primary/50 
                                     focus:ring-primary/50 transition-all duration-300`})}),e.jsx(f,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[e.jsx(p,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),e.jsx(p,{type:"submit",disabled:E,children:"Save Changes"})]})]})})})]})]})]})},ce=()=>e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"h-[250px] bg-gradient-to-br from-primary via-primary/95 to-primary/90 relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-10 animate-pulse"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-[180px] relative z-10",children:[e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(i,{className:"h-10 w-32"})}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-12 md:col-span-4",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(i,{className:"h-32 w-32 mx-auto rounded-full"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(i,{className:"h-6 w-48 mx-auto"}),e.jsx(i,{className:"h-4 w-32 mx-auto"}),e.jsx(i,{className:"h-4 w-40 mx-auto"})]})]})})}),e.jsx("div",{className:"col-span-12 md:col-span-8 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 text-slate-800",children:e.jsx(i,{className:"h-6 w-48"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[...Array(6)].map((a,t)=>e.jsxs(k,{className:"border-primary/10",children:[e.jsx(U,{children:e.jsx(i,{className:"h-6 w-40"})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{className:"h-4 w-20"}),e.jsx(i,{className:"h-4 w-20"})]})})]},t))})]})})]})]})]}),be=()=>{var c;const[a,t]=G.useState(!1),{data:s,isLoading:r}=z.useUserInfo();return r?e.jsx(ce,{}):s&&a?e.jsx(ne,{data:s,onCancel:()=>t(!1)}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsxs("div",{className:"h-[250px] bg-gradient-to-br from-primary via-primary/95 to-primary/90 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-10 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 via-transparent to-white/5"})]}),e.jsxs("svg",{className:"absolute -bottom-px w-full text-slate-50",viewBox:"0 0 1440 320",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"currentColor",fillOpacity:"0.2",d:"M0,128L34.3,133.3C68.6,139,137,149,206,144C274.3,139,343,117,411,128C480,139,549,181,617,186.7C685.7,192,754,160,823,144C891.4,128,960,128,1029,144C1097.1,160,1166,192,1234,197.3C1302.9,203,1371,181,1406,170.7L1440,160L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"}),e.jsx("path",{fill:"currentColor",d:"M0,192L34.3,186.7C68.6,181,137,171,206,170.7C274.3,171,343,181,411,192C480,203,549,213,617,202.7C685.7,192,754,160,823,144C891.4,128,960,128,1029,144C1097.1,160,1166,192,1234,186.7C1302.9,181,1371,139,1406,117.3L1440,96L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-[180px] relative z-10",children:[e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(p,{variant:"outline",className:"hover:text-primary hover:bg-white",onClick:()=>t(!0),children:[e.jsx(se,{size:16}),"Edit Profile"]})}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-12 md:col-span-4",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs(y,{className:"h-32 w-32 mx-auto ring-4 ring-primary/10",children:[e.jsx(w,{src:(s==null?void 0:s.profileImgUrl)||"",alt:(s==null?void 0:s.name)||"profile image",className:"object-cover"}),e.jsx(L,{className:"text-4xl bg-primary/5 capitalize",children:((c=s==null?void 0:s.name)==null?void 0:c[0])||(s==null?void 0:s.username[0])})]}),e.jsx("div",{className:"mt-4 space-y-2",children:e.jsx("h2",{className:"text-md font-semibold text-slate-600",children:s==null?void 0:s.name})})]})})}),e.jsx("div",{className:"col-span-12 md:col-span-8 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6 text-slate-800",children:"Personal Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-8",children:e.jsx(C,{icon:e.jsx(re,{className:"h-5 w-5"}),label:"Phone",value:s!=null&&s.phone?s==null?void 0:s.phone:"N/A"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-8 mt-3",children:e.jsx(C,{icon:e.jsx(K,{className:"h-5 w-5"}),label:"Email",value:s!=null&&s.username?s==null?void 0:s.username:"N/A"})})]})})]})]})]})},C=({icon:a,label:t,value:s="Not provided"})=>e.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-2xl bg-slate-50 hover:bg-primary/5 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 rounded-xl bg-primary/10 text-primary",children:a}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:t}),e.jsx("p",{className:"font-medium text-slate-800",children:s})]})]});export{be as UserProfilePage};
